\newenvironment{tab}{
  \begin{minipage}{0.1\paperwidth}
    \begin{tabular}{|l|r|r|r|r|}
}{
    \end{tabular}
  \end{minipage}
}
\newenvironment{tree}{
  \begin{minipage}{0.16\paperwidth}
    \begin{tikzpicture}
}{
    \end{tikzpicture}
  \end{minipage}
}
\newcommand\step[1]{
  \framebox[0.4\paperwidth]{#1}
}
\newenvironment{twosteps}{
  % Adjusting the width is needed when the margins are too big...
  % (which is not the case here)
  \begin{adjustwidth}{0cm}{0cm}
}{
  \end{adjustwidth}
}
\newcommand\nop{}

\tikzset{EOW/.style = {circle, draw}}

\begin{twosteps}
  \step{
		Étape 1
    \begin{tree}
      \node {-}
      child {node [fill=red!30,label=left:$\to$] {N}
        child {node[EOW] {O}}
      }
      child {node {S}
        child {node {O}
          child {node[EOW] {N}}
        }
        child {node[EOW] {U}}
      };
    \end{tree}
    \begin{tab}
      \hline
      \nop{} & - & O & N\\
      \hline
      -		& 0	& 1 & 2\\
      \hline
      N		& 1	& 1 & 1\\
      \hline
    \end{tab}
  }% \step
  \step {
		Étape 2
    \begin{tree}
      \node {-}
      child {node [fill=red!30] {N}
        child {node[EOW] [label=left:$\to$] {O}}
      }
      child {node {S}
        child {node {O}
          child {node[EOW] {N}}
        }
        child {node[EOW] {U}}
      };
    \end{tree}
    \begin{tab}
      \hline
      \nop{} & - & O & N\\
      \hline
      -		& 0	& 1 & 2\\
      \hline
      N		& 1	& 1 & 1\\
      \hline
      O		& 2	& 1 & 1\\
      \hline
    \end{tab}
  }% \step
\end{twosteps}

\begin{twosteps}
  \step{
		Étape 3
    \begin{tree}
      \node {-}
      child {node {N}
        child {node[EOW] {O}}
      }
      child {node [fill=red!30,label=left:$\to$] {S}
        child {node {O}
          child {node[EOW] {N}}
        }
        child {node[EOW] {U}}
      };
    \end{tree}
    \begin{tab}
      \hline
      \nop{} & - & O & N\\
      \hline
      -		& 0	& 1 & 2\\
      \hline
      S		& 1	& 1 & 2\\
      \hline
    \end{tab}
  }% \step
  \step {
		Étape 4
    \begin{tree}
      \node {-}
      child {node {N}
        child {node[EOW] {O}}
      }
      child {node [fill=red!30] {S}
        child {node [label=right:$\leftarrow$] {O}
          child {node[EOW] {N}}
        }
        child {node[EOW] {U}}
      };
    \end{tree}
    \begin{tab}
      \hline
      \nop{} & - & O & N\\
      \hline
      -		& 0	& 1 & 2\\
      \hline
      S		& 1	& 1 & 2\\
      \hline
      O		& 2	& 1 & 2\\
      \hline
    \end{tab}
  }% \step
\end{twosteps}

\begin{twosteps}
  \step {
		Étape 5
    \begin{tree}
      \node {-}
      child {node {N}
        child {node[EOW] {O}}
      }
      child {node [fill=red!30] {S}
        child {node {O}
          child {node [label=left:$\to$, EOW] {N}}
        }
        child {node[EOW] {U}}
      };
    \end{tree}
    \begin{tab}
      \hline
      \nop{} & - & O & N\\
      \hline
      -		& 0	& 1 & 2\\
      \hline
      S		& 1	& 1 & 2\\
      \hline
      O		& 2	& 1 & 2\\
      \hline
      N		& 3	& 2 & 1\\
      \hline
    \end{tab}
  }% \step
  \step {
		Etape 6
    \begin{tree}
      \node {-}
      child {node {N}
        child {node[EOW] {O}}
      }
      child {node [fill=red!30] {S}
        child {node {O}
          child {node[EOW] {N}}
        }
        child {node [label=left:$\to$, EOW] {U}}
      };
    \end{tree}
    \begin{tab}
      \hline
      \nop{} & - & O & N\\
      \hline
      -		& 0	& 1 & 2\\
      \hline
      S		& 1	& 1 & 2\\
      \hline
      U		& 2	& 2 & 2\\
      \hline
    \end{tab}
  }% \step
\end{twosteps}
\begin{flushright}
  \small
  \tikz \node [fill=red!30] {N}; : \textit{lock} verrouillé\\
  \tikz \node [label=left:$\to$] {N}; : étape courante\\
  \tikz \node [EOW] {N}; : n\oe{}ud marquant la fin d'un mot
    (\textit{EOW})
\end{flushright}
\begin{center}
  \textit{Recherche du mot ``on" dans le dictionnaire \{``no", ``son",
    ``su"\}}.
\end{center}
